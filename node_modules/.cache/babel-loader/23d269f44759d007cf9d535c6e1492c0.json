{"ast":null,"code":"function e(e) {\n  if (e && e.__esModule) return e;\n  var t = Object.create(null);\n  return e && Object.keys(e).forEach(function (n) {\n    if (\"default\" !== n) {\n      var r = Object.getOwnPropertyDescriptor(e, n);\n      Object.defineProperty(t, n, r.get ? r : {\n        enumerable: !0,\n        get: function () {\n          return e[n];\n        }\n      });\n    }\n  }), t.default = e, Object.freeze(t);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar t = e(require(\"react\")),\n    n = function () {\n  return (n = Object.assign || function (e) {\n    for (var t, n = 1, r = arguments.length; n < r; n++) for (var a in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n\n    return e;\n  }).apply(this, arguments);\n};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\n\n!function (e) {\n  if (e && \"undefined\" != typeof window) {\n    var t = document.createElement(\"style\");\n    t.setAttribute(\"type\", \"text/css\"), t.innerHTML = e, document.head.appendChild(t);\n  }\n}(\"._space3d {\\n  perspective: 1000px;\\n  text-align: center;\\n  display: inline-block;\\n  padding: unset;\\n  border: unset;\\n  background-color: transparent;\\n  outline: unset;\\n  box-shadow: unset;\\n}\\n._space3d ._3dbox {\\n  display: inline-block;\\n  transition: all 0.85s cubic-bezier(0.175, 0.885, 0.32, 1.275);\\n  text-align: center;\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  transform-style: preserve-3d;\\n  transform: rotateX(-90deg) rotateY(0deg) rotateZ(0deg);\\n}\\n._space3d ._3dface {\\n  overflow: hidden;\\n  position: absolute;\\n  opacity: 1;\\n  background-size: auto 100%;\\n  color: #000;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n._space3d .defaultFace {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  display: grid;\\n  grid-template-columns: repeat(5, 1fr);\\n  border-radius: 12px;\\n  box-shadow: inset 0 0 6px #000000;\\n  background-color: #fff;\\n}\\n._space3d .defaultFace div {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n._space3d .defaultFace span {\\n  width: 60%;\\n  height: 60%;\\n  box-shadow: 0 0 6px #000000;\\n  border-radius: 50%;\\n  background-color: #000;\\n}\\n._space3d.one ._3dbox {\\n  transform: rotateX(90deg) rotateY(0deg) rotateZ(0deg);\\n}\\n._space3d.two ._3dbox {\\n  transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);\\n}\\n._space3d.three ._3dbox {\\n  transform: rotateX(0deg) rotateY(180deg) rotateZ(0deg);\\n}\\n._space3d.four ._3dbox {\\n  transform: rotateX(-90deg) rotateY(90deg) rotateZ(90deg);\\n}\\n._space3d.five ._3dbox {\\n  transform: rotateX(90deg) rotateY(-90deg) rotateZ(90deg);\\n}\\n._space3d.rolling ._3dbox {\\n  transform-style: preserve-3d;\\n  animation: spin 2s infinite linear;\\n}\\n\\n@keyframes spin {\\n  0% {\\n    transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);\\n  }\\n  16% {\\n    transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);\\n  }\\n  33% {\\n    transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);\\n  }\\n  50% {\\n    transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);\\n  }\\n  66% {\\n    transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);\\n  }\\n  83% {\\n    transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);\\n  }\\n  100% {\\n    transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);\\n  }\\n}\");\n\nvar r = {\n  1: \"one\",\n  2: \"two\",\n  3: \"three\",\n  4: \"four\",\n  5: \"five\",\n  6: \"six\"\n},\n    a = {\n  1: function (e) {\n    return {\n      transform: \"rotateX(-90deg) translate3d(0, 0, \" + e + \"px)\"\n    };\n  },\n  2: function (e) {\n    return {\n      transform: \"translate3d(0, 0, \" + e + \"px)\"\n    };\n  },\n  3: function (e) {\n    return {\n      transform: \"rotateY(180deg) translate3d(0, 0, \" + e + \"px)\"\n    };\n  },\n  4: function (e) {\n    return {\n      left: \"50%\",\n      marginLeft: \"-\" + e + \"px\",\n      transform: \"rotateY(-90deg) translate3d(0, 0, \" + e + \"px)\"\n    };\n  },\n  5: function (e) {\n    return {\n      left: \"50%\",\n      marginLeft: \"-\" + e + \"px\",\n      transform: \"rotateY(90deg) translate3d(0, 0, \" + e + \"px)\"\n    };\n  },\n  6: function (e) {\n    return {\n      transform: \"rotateX(90deg) translate3d(0, 0, \" + e + \"px)\"\n    };\n  }\n},\n    o = {\n  1: [12],\n  2: [11, 13],\n  3: [6, 12, 18],\n  4: [6, 8, 16, 18],\n  5: [6, 8, 12, 16, 18],\n  6: [6, 8, 11, 13, 16, 18]\n},\n    d = [\"_3dface _3dface--one\", \"_3dface _3dface--two\", \"_3dface _3dface--three\", \"_3dface _3dface--four\", \"_3dface _3dface--five\", \"_3dface _3dface--six\"],\n    i = function (e, t) {\n  for (var n = [], r = 0; r < e; r++) n.push(t(r));\n\n  return n;\n},\n    l = t.useState,\n    s = t.useEffect,\n    c = t.forwardRef,\n    f = t.useImperativeHandle,\n    u = c(function (e, c) {\n  var u = e.rollingTime,\n      p = void 0 === u ? 1e3 : u,\n      g = e.onRoll,\n      m = e.defaultValue,\n      v = void 0 === m ? 6 : m,\n      b = e.size,\n      x = void 0 === b ? 250 : b,\n      h = e.faceBg,\n      y = e.faces,\n      _ = void 0 === y ? [] : y,\n      w = e.disabled,\n      Z = e.cheatValue,\n      O = e.placement,\n      k = e.sound,\n      E = e.triggers,\n      Y = void 0 === E ? [\"click\"] : E,\n      X = function (e, t) {\n    var n = {};\n\n    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);\n\n    if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var a = 0;\n\n      for (r = Object.getOwnPropertySymbols(e); a < r.length; a++) t.indexOf(r[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[a]) && (n[r[a]] = e[r[a]]);\n    }\n\n    return n;\n  }(e, [\"rollingTime\", \"onRoll\", \"defaultValue\", \"size\", \"faceBg\", \"faces\", \"disabled\", \"cheatValue\", \"placement\", \"sound\", \"triggers\"]),\n      j = l(v),\n      P = j[0],\n      z = j[1],\n      L = l(!1),\n      M = L[0],\n      F = L[1],\n      N = l([]),\n      T = N[0],\n      V = N[1],\n      C = l({}),\n      I = C[0],\n      R = C[1],\n      S = l({}),\n      A = S[0],\n      B = S[1],\n      D = function (e) {\n    var t;\n    k && (t = new Audio(k)).play(), F(!0), setTimeout(function () {\n      var n = Math.floor(6 * Math.random() + 1);\n      e && (n = e), Z && (n = Z), F(!1), z(n), t && t.pause(), g && g(n);\n    }, p);\n  };\n\n  f(c, function () {\n    return {\n      rollDice: D\n    };\n  });\n\n  var H = function (e) {\n    (null == Y ? void 0 : Y.length) && Y.includes(e.key) && D();\n  };\n\n  return s(function () {\n    if (\"undefined\" != typeof window && (null == Y ? void 0 : Y.length)) return window.addEventListener(\"keypress\", H), function () {\n      window.removeEventListener(\"keypress\", H);\n    };\n  }, [Y]), s(function () {\n    V(function (e, l, s) {\n      return d.map(function (d, c) {\n        return {\n          className: d,\n          children: l[c] ? null : t.createElement(\"div\", {\n            className: \"defaultFace \" + r[c + 1]\n          }, i(25, function (e) {\n            return t.createElement(\"div\", {\n              key: e\n            }, o[c + 1].includes(e) && t.createElement(\"span\", null));\n          })),\n          style: n(n(n(n({}, a[c + 1](e / 2)), {\n            width: e + \"px\",\n            height: e + \"px\"\n          }), s && {\n            backgroundColor: s\n          }), l[c] && {\n            backgroundImage: \"url(\" + l[c] + \")\"\n          })\n        };\n      });\n    }(x, _, h));\n  }, [x, _.length, h]), s(function () {\n    var e,\n        t = null === (e = null == O ? void 0 : O.split(\"-\")) || void 0 === e ? void 0 : e.reduce(function (e, t) {\n      var r;\n      return n(n({}, e), ((r = {})[t] = [\"left\", \"right\"].includes(t) ? 0 : \"-\" + x + \"px\", r));\n    }, {});\n    R(t);\n  }, [O, x]), s(function () {\n    B(n(n(n({}, X), I), {\n      width: x + \"px\",\n      height: x + \"px\",\n      filter: w ? \"grayscale(100%)\" : \"unset\"\n    }));\n  }, [I, x, w]), (null == T ? void 0 : T.length) ? t.createElement(\"button\", {\n    disabled: w || M,\n    onClick: function () {\n      (null == Y ? void 0 : Y.length) && Y.includes(\"click\") && D();\n    },\n    style: A,\n    className: \"_space3d \" + r[P] + \" \" + (M && \"rolling\")\n  }, t.createElement(\"div\", {\n    className: \"_3dbox\"\n  }, t.createElement(\"div\", n({}, T[0])), t.createElement(\"div\", n({}, T[1])), t.createElement(\"div\", n({}, T[2])), t.createElement(\"div\", n({}, T[3])), t.createElement(\"div\", n({}, T[4])), t.createElement(\"div\", n({}, T[5])))) : null;\n});\n\nexports.default = u;","map":{"version":3,"mappings":"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","names":["valueClassMap","faceTransformMap","translate","transform","left","marginLeft","defaultFaceGrid","faceClasses","times","counter","callback","data","i","push","useState","React","useEffect","forwardRef","useImperativeHandle","Dice","props","ref","rollingTime","u","onRoll","_b","defaultValue","m","_c","size","b","faceBg","_d","faces","y","disabled","cheatValue","placement","sound","_e","triggers","E","rest","_f","value","setValue","_g","rolling","setRolling","_h","faceArray","setFaceArray","_j","placementStyles","setPlacementStyles","_k","buttonStyles","setButtonStyles","handleDiceRoll","diceAudio","Audio","play","setTimeout","rollValue","Math","floor","random","pause","rollDice","keyPressHandler","event","length","includes","key","window","addEventListener","removeEventListener","map","className","index","children","idx","style","width","height","backgroundColor","backgroundImage","getFaceArray","positionStyles","split","e","reduce","acc","curr","filter","onClick","exports"],"sources":["/Users/olawalealex-oni/my-first-reacting/node_modules/react-dice-roll/src/_utils.ts","/Users/olawalealex-oni/my-first-reacting/node_modules/react-dice-roll/src/index.tsx"],"sourcesContent":["import { ReactChild } from 'react';\nimport { TValueClassMap, TFaceTransformMap, TDefaultFaceGrid } from './_types';\n\nexport const valueClassMap: TValueClassMap = {\n    1: 'one',\n    2: 'two',\n    3: 'three',\n    4: 'four',\n    5: 'five',\n    6: 'six',\n};\n\nexport const faceTransformMap: TFaceTransformMap = {\n    1: (translate: number) => ({ transform: `rotateX(-90deg) translate3d(0, 0, ${translate}px)` }),\n    2: (translate: number) => ({ transform: `translate3d(0, 0, ${translate}px)` }),\n    3: (translate: number) => ({ transform: `rotateY(180deg) translate3d(0, 0, ${translate}px)` }),\n    4: (translate: number) => ({ left: '50%', marginLeft: `-${translate}px`, transform: `rotateY(-90deg) translate3d(0, 0, ${translate}px)` }),\n    5: (translate: number) => ({ left: '50%', marginLeft: `-${translate}px`, transform: `rotateY(90deg) translate3d(0, 0, ${translate}px)` }),\n    6: (translate: number) => ({ transform: `rotateX(90deg) translate3d(0, 0, ${translate}px)` }),\n};\n\nexport const defaultFaceGrid: TDefaultFaceGrid = {\n    1: [12],\n    2: [11, 13],\n    3: [6, 12, 18],\n    4: [6, 8, 16, 18],\n    5: [6, 8, 12, 16, 18],\n    6: [6, 8, 11, 13, 16, 18]\n};\n\nexport const faceClasses = [\n    '_3dface _3dface--one',\n    '_3dface _3dface--two',\n    '_3dface _3dface--three',\n    '_3dface _3dface--four',\n    '_3dface _3dface--five',\n    '_3dface _3dface--six'\n];\n\nexport const times = (counter: number, callback: (index: number) => ReactChild) => {\n    const data = [];\n    for(let i = 0; i < counter; i++) {\n        data.push(callback(i));\n    }\n\n    return data;\n}","import * as React from 'react';\nimport './styles.scss';\nimport { TProps, TSingleFace, TValue } from './_types';\nimport { defaultFaceGrid, faceClasses, faceTransformMap, times, valueClassMap } from './_utils';\n\nconst { useState, useEffect, forwardRef, useImperativeHandle } = React;\n\nconst getFaceArray = (size: number, faces: string[], faceBg?: string): TSingleFace[] => {\n    return faceClasses.map((className: string, index: number) => ({\n        className,\n        children: !faces[index] ? (\n            <div className={`defaultFace ${valueClassMap[(index + 1) as TValue]}`}>\n                {times(25, (idx) => (\n                    <div key={idx}>\n                        {defaultFaceGrid[(index + 1) as TValue].includes(idx) && <span />}\n                    </div>\n                ))}\n            </div>\n        ) : null,\n        style: {\n            ...faceTransformMap[(index + 1) as TValue](size / 2),\n            width: size + 'px',\n            height: size + 'px',\n            ...(faceBg && { backgroundColor: faceBg }),\n            ...(faces[index] && { backgroundImage: `url(${faces[index]})` }),\n        },\n    }));\n};\n\ntype TDiceRef = {\n    rollDice: (value: TValue) => void;\n};\n\nconst Dice = forwardRef((props: TProps, ref: React.MutableRefObject<TDiceRef>) => {\n    const { rollingTime = 1000, onRoll, defaultValue = 6, size = 250, faceBg, faces = [], disabled, cheatValue, placement, sound, triggers = ['click'], ...rest } = props;\n    const [value, setValue] = useState<TValue>(defaultValue);\n    const [rolling, setRolling] = useState(false);\n    const [faceArray, setFaceArray] = useState<TSingleFace[]>([]);\n    const [placementStyles, setPlacementStyles] = useState<React.CSSProperties>({});\n    const [buttonStyles, setButtonStyles] = useState<React.CSSProperties>({});\n\n    const handleDiceRoll = (value?: TValue) => {\n        let diceAudio: HTMLAudioElement;\n        if (sound) {\n            diceAudio = new Audio(sound);\n            diceAudio.play();\n        }\n        setRolling(true);\n        setTimeout(() => {\n            let rollValue = Math.floor((Math.random() * 6) + 1) as TValue;\n\n            if (value) rollValue = value;\n            if (cheatValue) rollValue = cheatValue;\n            \n            setRolling(false);\n            setValue(rollValue);\n            \n            if (diceAudio) diceAudio.pause();\n            if (!onRoll) return;\n            onRoll(rollValue);\n        }, rollingTime);\n    };\n\n    useImperativeHandle(ref, () => ({ rollDice: handleDiceRoll }));\n\n    const keyPressHandler = (event: KeyboardEvent) => {\n        if (!triggers?.length || !triggers.includes(event.key)) {\n            return;\n        }\n\n        handleDiceRoll();\n    };\n\n    const clickHandler = () => {\n        if (!triggers?.length || !triggers.includes('click')) {\n            return;\n        }\n\n        handleDiceRoll();\n    };\n\n    useEffect(() => {\n        if (typeof window === 'undefined' || !triggers?.length) {\n            return;\n        }\n        window.addEventListener('keypress', keyPressHandler);\n        // Remove event listeners on cleanup\n        return () => {\n          window.removeEventListener('keypress', keyPressHandler);\n        };\n    }, [triggers]);\n    \n    useEffect(() => {\n        setFaceArray(getFaceArray(size, faces, faceBg));\n    }, [size, faces.length, faceBg]);\n\n    useEffect(() => {\n        const positionStyles = placement?.split('-')?.reduce((acc, curr) => {\n            return { ...acc, [curr]: ['left', 'right'].includes(curr) ? 0 : `-${size}px` };\n        }, {}) as React.CSSProperties;\n        setPlacementStyles(positionStyles);\n    }, [placement, size]);\n\n    useEffect(() => {\n        setButtonStyles({\n            ...rest,\n            ...placementStyles,\n            width: size + 'px',\n            height: size + 'px',\n            filter: disabled ? 'grayscale(100%)' : 'unset' \n        });\n    }, [placementStyles, size, disabled]);\n\n    if (!faceArray?.length) return null;\n\n    return (\n        <button disabled={disabled || rolling} onClick={clickHandler} style={buttonStyles} className={`_space3d ${valueClassMap[value]} ${rolling && 'rolling'}`}>\n            <div className=\"_3dbox\">\n                <div {...faceArray[0]} />\n                <div {...faceArray[1]} />\n                <div {...faceArray[2]} />\n                <div {...faceArray[3]} />\n                <div {...faceArray[4]} />\n                <div {...faceArray[5]} />\n            </div>\n        </button>\n    )\n});\n\nexport default Dice;"]},"metadata":{},"sourceType":"script"}